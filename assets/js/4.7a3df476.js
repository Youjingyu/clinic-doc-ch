(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{190:function(e,t,s){"use strict";s.r(t);var a=s(0),n=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"bubbles（气泡）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bubbles（气泡）","aria-hidden":"true"}},[e._v("#")]),e._v(" Bubbles（气泡）")]),e._v(" "),s("p",[e._v("让我们深入了解这些气泡意义以及如何解释它们。")]),e._v(" "),s("blockquote",[s("p",[e._v("Let's dive into what these mean and how to interpret them.")])]),e._v(" "),s("ul",[s("li",[e._v("一个气泡代表一组异步操作。")])]),e._v(" "),s("blockquote",[s("p",[e._v("A bubble represents a group of async operations.")])]),e._v(" "),s("ul",[s("li",[e._v("在一组异步操作中花费的时间越多，气泡越大。")])]),e._v(" "),s("blockquote",[s("p",[e._v("The more time spent within a group of async operations, the bigger the bubble is.")])]),e._v(" "),s("ul",[s("li",[e._v("气泡之间的线越长，说明它们之间存在越大的延迟。")])]),e._v(" "),s("blockquote",[s("p",[e._v("The longer the lines between bubbles, the more latency exists between them.")])]),e._v(" "),s("p",[e._v("气泡基于一些启发式方法将异步时间分组。")]),e._v(" "),s("blockquote",[s("p",[e._v("The way bubbles group together async time is based on a couple of heuristics.")])]),e._v(" "),s("p",[e._v("已分析的代码分为3个区域 - 用户区（正在分析的应用程序），依赖项（第三方模块）和 Node 核心代码。")]),e._v(" "),s("blockquote",[s("p",[e._v("Profiled code is grouped into 3 areas - userland (the application being profiled), dependencies (3rd party modules), and node core.")])]),e._v(" "),s("p",[e._v("每当异步操作从一个空间跨越到另一个空间时，它就会定义一个气泡的边界。")]),e._v(" "),s("blockquote",[s("p",[e._v("Whenever an async operation crosses from one space into another it defines the boundry of a bubble.")])]),e._v(" "),s("p",[e._v("点击其中的气泡，可以显示它由哪些气泡组成。")]),e._v(" "),s("blockquote",[s("p",[e._v("Clicking on a bubble steps inside it to show the bubbles it's composed of.")])]),e._v(" "),s("p",[e._v("例如，单击底部名为 mongojs 的黄色气泡。从 UI 界面中可以看到它包含用户区代码并且是浅蓝色的。")]),e._v(" "),s("blockquote",[s("p",[e._v("For example, try clicking on the yellow bubble at the bottom called mongojs. The UI tells us it contains userland code as well as it has a lightblue color.")])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://clinicjs.org/static/0f556ce11f2e75b01aa17f083ce1bf5e/71c55/04-A.png",alt:""}})]),e._v(" "),s("p",[e._v("在这里，我们看到有两个较小的气泡。如果我们点击第一个，因为它没有子气泡，所以会显示创建它的操作的堆栈跟踪。")]),e._v(" "),s("blockquote",[s("p",[e._v("In here we see that there are two smaller bubbles. If we click on the first one it'll show the stack trace for the operation that created this as it has no sub bubbles.")])]),e._v(" "),s("p",[e._v("这里的堆栈跟踪实际上是多个异步操作的组合堆栈。用户区代码会突出显示，以帮助你定位触发此气泡的代码。在这个例子里，它告诉我们它来自 "),s("code",[e._v("1-server-with-no-index.js")]),e._v(" 中的第10行。")]),e._v(" "),s("blockquote",[s("p",[e._v("This stack trace is actually a combined stack trace by multiple async operations. The userland code is highlighted to help you navigate to your code that triggered this bubble. In this case it tells us that it was from line 10 in 1-server-with-no-index.js.")])]),e._v(" "),s("p",[e._v("如果我们查看源文件，会看到第10行看起来像这样：")]),e._v(" "),s("blockquote",[s("p",[e._v("If we look into the source file we'll see that line 10 looks like this:")])]),e._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[e._v("col"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("modified"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("limit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" newest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n")])])]),s("p",[e._v("这是有道理的，因为这是一个 mongodb 查询。实际上，如果我们查看页面上的其他黄色气泡，我们会看到它在其回调内包含了对下一个查询的引用。这些链接表明这些气泡是串行执行的。")]),e._v(" "),s("blockquote",[s("p",[e._v("Which makes sense, as this is a mongodb query. In fact if we look at the other yellow bubble on the page, we'll see that it contains a reference to the next query inside its callback. This link indicates that these bubbles are executed in series.")])])])}],!1,null,null,null);t.default=n.exports}}]);